(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{872:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/zta",function(){return a(8845)}])},8995:function(e,t,a){"use strict";var s=a(5893);a(7294),t.Z=()=>(0,s.jsx)("div",{className:"copyright",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear(),(0,s.jsx)("br",{})]})})},6315:function(e,t,a){"use strict";var s=a(5893),n=a(9008),i=a.n(n);t.Z=e=>{let{pageTitle:t}=e;return(0,s.jsx)(i(),{children:(0,s.jsx)("title",{children:t&&"".concat(t," | Binh Do-Cao")})})}},5427:function(e){"use strict";e.exports=[{id:1,icon:"/img/svg/home-run.svg",menuName:"Home",routePath:"/",isLocked:!1},{id:2,icon:"/img/svg/avatar.svg",menuName:"About",routePath:"/about",isLocked:!1},{id:3,icon:"/img/svg/bus.svg",menuName:"Bus Routes",routePath:"https://transport.tamu.edu/busroutes.web/Routes?r=22",isLocked:!1},{id:4,icon:"/img/svg/camera.svg",menuName:"Pictures",routePath:"/portfolio",isLocked:!1},{id:6,icon:"/img/svg/mail.svg",menuName:"Contact",routePath:"/contact",isLocked:!1}]},8845:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var s=a(5893),n=a(6465),i=a.n(n),r=a(7294),l=a(7788),c=a.n(l),o=a(1664),d=a.n(o);a(2010);var u=a(586),m=a(720),h=a(2330),x=a(2474),g=a(7409),j=a(5819),p=a(1133),b=a(7357),f=a(5861),v=a(6624),N=a(4472),y=a(3578),k=a(9323),S=a(9417),w=a(7484),Z=a.n(w),_=a(8239),C=a(2430),P=a(8703);let T=(0,_.Z)({palette:{dp:{main:"#ff1493;",light:"#ff1493;",dark:"#ff1493;",contrastText:"white"}},overrides:{MuiStepIcon:{root:{color:"#ff1493","&$completed":{color:"#ff1493"},"&$active":{color:"#ff1493"}}}}});var z=function(e){let{isOpen:t,onClose:a,selectedID:n,name:i}=e;if(!t)return null;let[l,c]=(0,r.useState)(0),[o,d]=(0,r.useState)(Z()()),[w,_]=(0,r.useState)(""),[z,D]=(0,r.useState)(!1),E=Z()(),A=Z()().hour(12).minute(30),R=Z()().hour(18).minute(0),H=Z()(o),L=E.isSame(H,"day"),M=L&&E.isAfter(A),O=L&&E.isAfter(R),[I,Y]=(0,r.useState)("lunch"),q=Z()().format("YYYY-MM-DD HH:mm:ss"),B=["Select Date","Select Meal","Add Comments"],F=()=>{c(e=>e+1)},G=()=>{c(e=>e-1)},W=()=>{D(!0)},J=()=>{switch(l){case 0:return(0,s.jsx)(m._,{dateAdapter:u.y,children:(0,s.jsx)(h.M,{label:"Select Date",value:o,onChange:e=>d(Z()(e)),renderInput:e=>(0,s.jsx)(x.Z,{...e,fullWidth:!0,margin:"normal"})})});case 1:return(0,s.jsxs)(g.Z,{label:"Select Meal",fullWidth:!0,value:I,onChange:e=>Y(e.target.value),sx:{marginTop:2,marginBottom:3},children:[(0,s.jsx)(j.Z,{value:"lunch",disabled:M,children:"Lunch"}),(0,s.jsx)(j.Z,{value:"dinner",disabled:O,children:"Dinner"})]});case 2:return(0,s.jsx)(x.Z,{label:"Comments",multiline:!0,rows:3,fullWidth:!0,value:w,onChange:e=>_(e.target.value),placeholder:"Add any additional comments here...",variant:"outlined",margin:"normal"});default:return null}},U=async()=>{try{let e=await fetch("/api/submitLatePlate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedDate:H.format("YYYY-MM-DD"),meal:I,submittedBy:i,comments:w,selectedID:n,submissionTime:q})}),t=await e.json();t&&""!=t[0]?(a(),W()):alert("Failed to submit the request. Please try again.")}catch(e){console.error("Error submitting late plate request:",e),alert("An error occurred. Please try again later.")}};return(0,s.jsx)(p.Z,{open:t,onClose:a,children:(0,s.jsx)(C.Z,{theme:T,children:(0,s.jsxs)(b.Z,{sx:{width:"80%",mx:"auto",my:"5%",padding:3,bgcolor:"background.paper",borderRadius:2},children:[(0,s.jsx)(f.Z,{variant:"h4",gutterBottom:!0,children:"Late Plate Request"}),(0,s.jsx)(f.Z,{variant:"body1",paragraph:!0,children:"The cut-off for lunch requests is 12:30 PM, and for dinner, it's 6:00 PM"}),(0,s.jsx)(v.Z,{activeStep:l,orientation:"vertical",children:B.map((e,t)=>(0,s.jsxs)(N.Z,{children:[(0,s.jsx)(y.Z,{children:e}),(0,s.jsxs)(k.Z,{children:[J(),(0,s.jsxs)(b.Z,{sx:{marginTop:2},children:[(0,s.jsx)(S.Z,{color:"dp",disabled:0===l,onClick:G,children:"Back"}),(0,s.jsx)(S.Z,{variant:"contained",color:"dp",onClick:l===B.length-1?U:F,sx:{marginLeft:2},children:l===B.length-1?"Submit Request":"Next"})]})]})]},e))}),(0,s.jsx)(P.Z,{style:{zIndex:1500},anchorOrigin:{vertical:"top",horizontal:"center"},open:z,onClose:(e,t)=>{"clickaway"!==t&&D(!1)},message:"Some message",autoHideDuration:5e3})]})})})},D=()=>{let[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)([]),[l,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/getNames",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collection:"housegirls",database:"test",dataSource:"Cluster0",projection:{_id:1,name:1}})}),t=await e.json();console.log(t);let a=t.sort((e,t)=>e.name.localeCompare(t.name));n(a)}catch(e){console.error("Error fetching house girls:",e)}};e(),t(!0)},[]);let[m,h]=(0,r.useState)([]),x=async e=>{try{let t=await fetch("/api/getRestrictions?name=".concat(encodeURIComponent(e))),a=await t.json();h(a)}catch(e){console.error("Error fetching dietary restrictions:",e)}};(0,r.useEffect)(()=>{l&&x(l.name)},[l]),(0,r.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("selectedHouseGirl"));e&&o(e),t(!0)},[]);let g=["Amazing","Brilliant","Charming","Dynamic","Exquisite","Fantastic","Gracious","Harmonious","Inspirational","Joyful","Knowledgeable","Luminous","Magnificent","Noteworthy","Outstanding","Radiant","Splendid","Tenacious","Unique","Vivacious","Gorgeous","Worthy","Exuberant","Zealous","Adaptable","Energetic","Nurturing","Optimistic","Pioneering","Quixotic","Resilient","Stellar","Talented","Uplifting","Visionary","Wholesome","Xenial","Youthful"],j=(e=>{let t=g.sort(()=>.5-Math.random());return t.slice(0,10)})(0);if(!e)return null;let p=l?"/img/hg/".concat(l.name.replace(/\s+/g,""),".jpeg"):null;return(0,s.jsxs)(s.Fragment,{children:[!l&&(0,s.jsx)("div",{style:{color:"deeppink"},className:"jsx-2d08bc94734b7461 centered-container",children:(0,s.jsxs)("select",{onChange:e=>{let t=e.target.value,s=a.find(e=>e._id===t);o(s),localStorage.setItem("selectedHouseGirl",JSON.stringify(s))},className:"jsx-2d08bc94734b7461 customDropdown",children:[(0,s.jsx)("option",{classname:!0,className:"jsx-2d08bc94734b7461",children:"Select a House Girl"}),a.map(e=>(0,s.jsx)("option",{value:e._id,className:"jsx-2d08bc94734b7461",children:e.name},e._id))]})}),(0,s.jsx)("div",{className:"jsx-2d08bc94734b7461 tokyo_tm_home",children:(0,s.jsx)("div",{className:"jsx-2d08bc94734b7461 home_content",children:l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-2d08bc94734b7461 avatar",children:(0,s.jsx)("div",{style:{backgroundImage:"url(".concat(p,")")},className:"jsx-2d08bc94734b7461 image avatar_img"})}),(0,s.jsxs)("div",{className:"jsx-2d08bc94734b7461 details",children:[(0,s.jsx)("h3",{style:{color:"deeppink"},className:"jsx-2d08bc94734b7461 name",children:l.name}),(0,s.jsx)("h4",{className:"jsx-2d08bc94734b7461 typer",children:(0,s.jsx)(c(),{strings:l.roles||["ZTA","House Girl",...j],loop:!0,typeSpeed:85})}),(0,s.jsx)("p",{className:"jsx-2d08bc94734b7461 job",children:""!=m[0]?"Dietary Restrictions: ".concat(m.join(", ")):""}),(0,s.jsxs)("div",{className:"jsx-2d08bc94734b7461 z-button-container",children:[(0,s.jsx)("a",{onClick:()=>{u(!0)},style:{marginRight:"10px"},color:"pink",className:"jsx-2d08bc94734b7461 zta-button",children:"Request Late Plate"}),(0,s.jsx)(z,{isOpen:d,onClose:()=>u(!1),selectedId:null==l?void 0:l._id,name:null==l?void 0:l.name}),(0,s.jsx)("a",{onClick:()=>{o(null),localStorage.removeItem("selectedHouseGirl")},color:"pink",className:"jsx-2d08bc94734b7461 zta-button",children:"Logout"})]})]})]})})}),(0,s.jsx)(i(),{id:"2d08bc94734b7461",children:".centered-container.jsx-2d08bc94734b7461{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100vh;position:absolute;top:0;left:0;right:0;z-index:1}select.jsx-2d08bc94734b7461{padding:8px 16px;font-size:1rem}.z-button-container.jsx-2d08bc94734b7461{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:10px}"})]})},E=a(6315),A=a(5675),R=a.n(A),H=a(5427),L=a.n(H),M=a(8995),O=a(528),I=a(1163),Y=()=>{let e=(0,I.useRouter)(),[t,a]=(0,r.useState)(!1),n=()=>a(!t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"header",children:(0,s.jsxs)("div",{className:"header-inner",children:[(0,s.jsx)("div",{className:"details",children:(0,s.jsx)(d(),{className:"details",href:"/zta",style:{textDecoration:"none"},children:(0,s.jsx)("h3",{className:"name",style:{color:"deeppink",fontWeight:"bold"},children:"Z T A"})})}),(0,s.jsx)("div",{className:"my_trigger",onClick:n,children:(0,s.jsx)("div",{className:t?"hamburger hamburger--collapse-r is-active":"hamburger",children:(0,s.jsx)("div",{className:"hamburger-box",children:(0,s.jsx)("div",{className:"hamburger-inner"})})})})]})}),(0,s.jsx)("div",{className:t?"leftpart active":"leftpart",children:(0,s.jsxs)("div",{className:"leftpart_inner",children:[(0,s.jsx)("div",{className:"logo",children:(0,s.jsx)("div",{className:"details",children:(0,s.jsx)(d(),{className:"details",href:"/zta",style:{textDecoration:"none"},children:(0,s.jsx)("h3",{className:"name",style:{color:"deeppink",fontWeight:"bold"},children:"Z T A"})})})}),(0,s.jsx)("div",{className:"menu",children:(0,s.jsx)("ul",{children:L().map(t=>(0,s.jsx)("li",{onClick:n,children:(0,s.jsxs)(d(),{className:"".concat((0,O.H)(t.routePath,e.asPath)?"active ":""),href:t.routePath,children:[(0,s.jsx)(R(),{width:15,height:15,className:"svg",src:t.icon,alt:"homerun"}),(0,s.jsx)("span",{className:"menu_content",children:t.menuName})]})},t.id))})}),(0,s.jsx)(M.Z,{})]})})]})},q=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.Z,{pageTitle:"ZTA"}),(0,s.jsx)(Y,{}),(0,s.jsx)("div",{className:"rightpart",children:(0,s.jsx)("div",{className:"rightpart_in",children:(0,s.jsx)("div",{className:"tokyo_tm_section",children:(0,s.jsx)("div",{"data-aos":"fade-right","data-aos-duration":"1200",children:(0,s.jsx)(D,{})})})})})]})},528:function(e,t,a){"use strict";a.d(t,{H:function(){return s}});let s=(e,t)=>{if(e&&t)return e.replace(/\/\d+/,"")===t.replace(/\/\d+/,"")}}},function(e){e.O(0,[247,661,225,774,888,179],function(){return e(e.s=872)}),_N_E=e.O()}]);